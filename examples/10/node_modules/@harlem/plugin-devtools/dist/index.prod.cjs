"use strict";var g=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var A=(e,t)=>{for(var r in t)g(e,r,{get:t[r],enumerable:!0})},b=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P(t))!y.call(e,o)&&o!==r&&g(e,o,{get:()=>t[o],enumerable:!(n=D(t,o))||n.enumerable});return e};var L=e=>b(g({},"__esModule",{value:!0}),e);var V={};A(V,{default:()=>O});module.exports=L(V);var I="plugin:devtools",c="harlem",p="$all",T={label:"Harlem",color:4244621},v={set:"plugin:devtools:set"};var l=require("@harlem/core"),k=require("@vue/devtools-api");function E(e,t){return e.localeCompare(t)}function N(e,t){return r=>{let{app:n,inspectorId:o}=r;if(n!==e||o!==c||t.size===0)return;let s=Array.from(t.keys()).sort(E).map(a=>({id:a,label:a}));r.rootNodes=[{children:s,id:p,label:"Stores"}]}}function R(e){try{return e()}catch(t){return"Failed to compute value..."}}function x(e){return Object.entries(e.registrations).reduce((t,[r,n])=>(t[r]=Array.from(n).sort(([o],[s])=>E(o,s)).map(([o,{type:s,producer:a}])=>({key:o,value:R(a),editable:!1,objectType:s})),t),{state:[{key:e.name,value:e.state,editable:!0,objectType:"reactive"}]})}function C(e){return e.reduce((t,r)=>{if(!r)return t;let n=x(r);return Object.entries(n).reduce((o,[s,a])=>(o[s]=(o[s]||[]).concat(a),o),{})},{})}function j(e,t){return r=>{let{app:n,inspectorId:o,nodeId:s}=r;if(n!==e||o!==c||t.size===0)return;let a=[t.get(s)||t.values().next().value];s===p&&(a=Array.from(t.values())),a.length>0&&(r.state=C(a))}}function M(e,t){return r=>{let{app:n,inspectorId:o,nodeId:s,path:a,state:d,set:m}=r;if(n!==e||o!==c||t.size===0)return;let f=a.shift(),i=s===p&&f||s,u=t.get(i);!u||u.write(v.set,I,S=>m(S,a,d.value))}}function h(e,t){return r=>{if(!r)return;let{store:n}=r;e.sendInspectorState(c),e.addTimelineEvent({layerId:c,event:{logType:t,title:"Mutation",subtitle:n,groupId:n,time:e.now(),data:r,meta:{store:n}}})}}function O(e){let{label:t,color:r}={...T,...e};return(n,o,s)=>{let a=N(n,s),d=j(n,s),m=M(n,s);(0,k.setupDevtoolsPlugin)({app:n,label:t,id:c,logo:"https://harlemjs.com/assets/images/favicon.png",homepage:"https://harlemjs.com",packageName:"@harlem/plugin-devtools"},i=>{let u=h(i),S=h(i,"error");i.addInspector({label:t,id:c,icon:"source",treeFilterPlaceholder:"Search stores",stateFilterPlaceholder:"Search state",nodeActions:[{icon:"replay",tooltip:"Reset store",action:H=>o.emit(l.EVENTS.devtools.reset,{sender:I,store:H,data:H})}]}),i.addTimelineLayer({label:t,color:r,id:c,skipScreenshots:!0}),i.on.getInspectorTree(a),i.on.getInspectorState(d),i.on.editInspectorState(m),o.on(l.EVENTS.mutation.success,u),o.on(l.EVENTS.mutation.error,S),o.on(l.EVENTS.devtools.update,()=>{i.sendInspectorTree(c),i.sendInspectorState(c)})})}}0&&(module.exports={});
